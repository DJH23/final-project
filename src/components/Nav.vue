<template>
  <div>
    <nav
      class="animate__animated animate__backInLeft bg-white border-yellow-500 bg-purple-100/90 px-2 sm:px-4 py-4 rounded"
    >
      <div
        class="container flex flex-wrap justify-between items-center mx-auto"
      >
        <a
          aria-current="page"
          href="/"
          class="router-link-active router-link-exact-active flex items-center"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            width="100"
            height="100"
            viewBox="0 0 160 160"
            xml:space="preserve"
          >
            <desc>Created with Fabric.js 3.6.3</desc>
            <defs></defs>
            <g transform="matrix(0.3 0 0 0.3 81.45 81.45)">
              <g style="">
                <g transform="matrix(1 0 0 1 -160 -160)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(234 179 8);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-71.5, -71.5)"
                    d="M 71.5 0 C 32.075 0 0 32.075 0 71.5 S 32.075 143 71.5 143 S 143 110.925 143 71.5 S 110.925 0 71.5 0 z M 71.5 128 C 40.346 128 15 102.654 15 71.5 S 40.346 15 71.5 15 S 128 40.346 128 71.5 S 102.654 128 71.5 128 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 -160 0)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(234 179 8);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-71.5, -231.5)"
                    d="M 71.5 160 C 32.075 160 0 192.075 0 231.5 S 32.075 303 71.5 303 s 71.5 -32.075 71.5 -71.5 S 110.925 160 71.5 160 z M 71.5 288 C 40.346 288 15 262.654 15 231.5 S 40.346 175 71.5 175 s 56.5 25.346 56.5 56.5 S 102.654 288 71.5 288 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 -160 160)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(168 85 247);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-71.5, -391.5)"
                    d="M 71.5 320 C 32.075 320 0 352.075 0 391.5 S 32.075 463 71.5 463 s 71.5 -32.075 71.5 -71.5 S 110.925 320 71.5 320 z M 71.5 448 C 40.346 448 15 422.654 15 391.5 S 40.346 335 71.5 335 s 56.5 25.346 56.5 56.5 S 102.654 448 71.5 448 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 -160 -160)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(168 85 247);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-71.5, -71.5)"
                    d="m 90.196 50.197 l -26.696 26.697 l -10.696 -10.697 c -2.93 -2.929 -7.678 -2.929 -10.607 0 s -2.929 7.678 0 10.606 l 16 16 c 1.464 1.465 3.384 2.197 5.303 2.197 s 3.839 -0.732 5.304 -2.197 l 32 -32 c 2.929 -2.929 2.929 -7.678 0 -10.606 c -2.93 -2.929 -7.678 -2.929 -10.608 7.10543e-15 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 -160 0)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(168 85 247);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-71.5, -231.5)"
                    d="m 90.196 210.197 l -26.696 26.697 l -10.696 -10.697 c -2.93 -2.929 -7.678 -2.929 -10.607 0 s -2.929 7.678 0 10.606 l 16 16 c 1.464 1.465 3.384 2.197 5.303 2.197 s 3.839 -0.732 5.304 -2.197 l 32 -32 c 2.929 -2.929 2.929 -7.678 0 -10.606 c -2.93 -2.929 -7.678 -2.929 -10.608 0 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 16 -184)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(168 85 247);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-247.5, -47.5)"
                    d="m 175.5 55 h 144 c 4.143 0 7.5 -3.358 7.5 -7.5 s -3.357 -7.5 -7.5 -7.5 h -144 c -4.143 0 -7.5 3.358 -7.5 7.5 s 3.357 7.5 7.5 7.5 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 84 -136)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(168 85 247);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-315.5, -95.5)"
                    d="m 175.5 103 h 280 c 4.143 0 7.5 -3.358 7.5 -7.5 s -3.357 -7.5 -7.5 -7.5 h -280 c -4.143 0 -7.5 3.358 -7.5 7.5 s 3.357 7.5 7.5 7.5 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 16 -24)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(168 85 247);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-247.5, -207.5)"
                    d="m 175.5 215 h 144 c 4.143 0 7.5 -3.358 7.5 -7.5 s -3.357 -7.5 -7.5 -7.5 h -144 c -4.143 0 -7.5 3.358 -7.5 7.5 s 3.357 7.5 7.5 7.5 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 84 24)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(168 85 247);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-315.5, -255.5)"
                    d="m 455.5 248 h -280 c -4.143 0 -7.5 3.358 -7.5 7.5 s 3.357 7.5 7.5 7.5 h 280 c 4.143 0 7.5 -3.358 7.5 -7.5 s -3.357 -7.5 -7.5 -7.5 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 16 136)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(234 179 8);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-247.5, -367.5)"
                    d="m 175.5 375 h 144 c 4.143 0 7.5 -3.358 7.5 -7.5 s -3.357 -7.5 -7.5 -7.5 h -144 c -4.143 0 -7.5 3.358 -7.5 7.5 s 3.357 7.5 7.5 7.5 z"
                    stroke-linecap="round"
                  />
                </g>
                <g transform="matrix(1 0 0 1 84 184)">
                  <path
                    style="
                      stroke: none;
                      stroke-width: 1;
                      stroke-dasharray: none;
                      stroke-linecap: butt;
                      stroke-dashoffset: 0;
                      stroke-linejoin: miter;
                      stroke-miterlimit: 4;
                      fill: rgb(234 179 8);
                      fill-rule: nonzero;
                      opacity: 1;
                    "
                    transform=" translate(-315.5, -415.5)"
                    d="m 455.5 408 h -280 c -4.143 0 -7.5 3.358 -7.5 7.5 s 3.357 7.5 7.5 7.5 h 280 c 4.143 0 7.5 -3.358 7.5 -7.5 s -3.357 -7.5 -7.5 -7.5 z"
                    stroke-linecap="round"
                  />
                </g>
              </g>
            </g></svg></a
        ><button
          data-collapse-toggle="mobile-menu"
          type="button"
          class="inline-flex items-center p-2 ml-3 text-sm text-yellow-500 rounded-lg md:hidden hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
          aria-controls="mobile-menu"
          aria-expanded="false"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            class="w-6 h-6"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
              clip-rule="evenodd"
            ></path>
          </svg>
          <svg
            class="hidden w-6 h-6"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
        <div class="hidden w-full md:block md:w-auto" id="mobile-menu">
          <ul
            class="flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium"
          >
            <li class="flex items-center justify-center">
              <p
                href="#"
                class="text-center block py-2 pr-4 pl-3 text-gray-700 rounded md:bg-transparent md:p-0 dark:text-black text-yellow-500">Welcome Back <span class="font-bold text-purple-500"> {{ userName }}</span>
              </p>
            </li>
            <li class="flex justify-center pt-4 md:pt-0">
              <button
                @click="logout"
                class="ml-8 inline-block py-2 px-4 text-sm leading-5 text-white bg-yellow-500 hover:bg-purple-500 ease-in-out duration-300 font-medium focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 rounded-md"
                type="submit"
              >
                Log Out
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
</template>

<script setup>
import { useUserStore } from "@/stores/user.js";
import { useRouter } from "vue-router";
import { ref } from "vue";

const userName = ref(useUserStore().user.email);
// const user = useUserStore()
const router = useRouter();
const logout = async () => {
  // user.signOut()
  await useUserStore().signOut();
  router.push({
    path: "/auth/login",
  });
};

//constant to save a variable that will hold the use router method

// constant to save a variable that will get the user from store with a computed function imported from vue

// constant that calls user email from the useUSerStore

// constant that saves the user email and cleans out the @client from the user

// async function that calls the signOut method from the useUserStore and pushes the user back to the Auth view.
</script>

<style></style>
